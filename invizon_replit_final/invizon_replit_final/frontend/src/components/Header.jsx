import React from 'react'
import { Link, useNavigate } from 'react-router-dom'
import { getToken, logout } from '../utils/auth'
export default function Header(){ const navigate = useNavigate(); const [query, setQuery] = React.useState(''); const [user, setUser] = React.useState(null); React.useEffect(()=>{ if (getToken()) setUser(true); },[]); const onSearch = (e)=>{ e.preventDefault(); navigate(`/products?search=${encodeURIComponent(query)}`); } const doLogout = ()=>{ logout(); setUser(null); navigate('/'); }
return (<header className="bg-gradient-to-r from-invizon-600 to-invizon-400 text-white p-4 shadow"><div className="container mx-auto flex items-center justify-between"><Link to="/" className="flex items-center gap-3"><div className="w-10 h-10 bg-white rounded-full flex items-center justify-center text-invizon-700 font-bold">I</div><div className="font-bold text-lg">Invizon</div></Link><form onSubmit={onSearch} className="flex-1 mx-6"><input value={query} onChange={e=>setQuery(e.target.value)} placeholder="Search products..." className="w-full rounded p-2 text-slate-800" /></form><nav className="flex items-center gap-4"><Link to="/addresses" className="bg-white text-invizon-700 px-3 py-2 rounded">Addresses</Link><Link to="/cart" className="bg-white text-invizon-700 px-3 py-2 rounded">Cart</Link>{user ? (<button onClick={doLogout} className="bg-white text-invizon-700 px-3 py-2 rounded">Logout</button>) : (<Link to="/login" className="bg-white text-invizon-700 px-3 py-2 rounded">Login</Link>)}</nav></div></header>); }
